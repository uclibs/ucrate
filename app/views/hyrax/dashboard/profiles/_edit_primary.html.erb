<%= form_for @user,
             url: hyrax.dashboard_profile_path(@user.to_param),
             html: { multipart: true, class: 'form-horizontal' } do |f| %>
  <div class="form-group">
    <%= f.label :avatar, '<i class="glyphicon glyphicon-camera"></i> Change picture'.html_safe, class: "col-xs-4 control-label" %>
    <div class="col-xs-8">
      <%= image_tag @user.avatar.url(:thumb) if @user.avatar? %>
      <%= f.file_field :avatar %>
      <%= f.hidden_field :avatar_cache %>
      <span class="help-block">JPG, GIF, or PNG (less than 2MB)</span>

      <div class="checkbox">
        <%= f.label :remove_avatar do %>
          <%= f.check_box :remove_avatar %>
          Delete picture
          <a href="#" id="delete_picture_help" data-toggle="popover" data-content="If you would like to remove your picture entirely, check the box and save your profile." data-original-title="Delete Picture"><i class="glyphicon glyphicon-question-sign"></i></a>
        <% end %>
      </div>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :first_name, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.first_name') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :first_name, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :last_name, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.last_name') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :last_name, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :title, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.title') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :title, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :ucdepartment, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.ucdepartment') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :ucdepartment, class: "form-control", readonly: true %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :uc_affiliation, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.uc_affiliation') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :uc_affiliation, class: "form-control", readonly: true %>
    </div>
  </div>
 
   <div class="form-group">
      <%= f.label :email, 'Email', class: 'col-xs-4 control-label' %>
      <div class="col-xs-8">
         <%= f.text_field :email, class: "form-control", readonly: true %>
      </div>
    </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :alternate_email, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.alternate_email') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :alternate_email, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :telephone, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.telephone') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :telephone, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :alternate_phone_number, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.alternate_phone_number') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :alternate_phone_number, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :rd_page, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.rd_page') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :rd_page, class: "form-control", pattern: "https:\/\/researchdirectory.uc.edu\/p\/[a-z]+" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :website, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.website') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :website, class: "form-control" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :blog, class: 'col-xs-4 control-label' do %>
      <%= t('hyrax.user_profile.blog') %>
    <% end %>
    <div class="col-xs-8">
       <%= f.text_field :blog, class: "form-control" %>
    </div>
  </div>

  <% if Hyrax.config.arkivo_api? %>
    <%= render partial: 'zotero', locals: { f: f, user: @user } %>
  <% end %>

  <div class="form-group">
    <%= f.label :twitter_handle, '<i class="fa fa-twitter" aria-hidden="true"></i> Twitter Handle'.html_safe, class: 'col-xs-4 control-label' %>
    <div class="col-xs-8">
       <%= f.text_field :twitter_handle, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :facebook_handle, '<i class="fa fa-facebook" aria-hidden="true"></i> Facebook Handle'.html_safe, class: 'col-xs-4 control-label' %>
    <div class="col-xs-8">
       <%= f.text_field :facebook_handle, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <div class="form-group">
    <%= f.label :googleplus_handle, '<i class="fa fa-google-plus"></i> Google+ Handle'.html_safe, class: 'col-xs-4 control-label' %>
    <div class="col-xs-8">
       <%= f.text_field :googleplus_handle, class: "form-control" %>
    </div>
  </div><!-- .form-group -->

  <%= render 'trophy_edit', trophies: @trophies %>

  <%= f.button '<i class="glyphicon glyphicon-save"></i> Save Profile'.html_safe, type: 'submit', class: "btn btn-primary" %>
<% end %>

<div class="orcid-section">
  <div class="well">
    <% defined?(status_processor) || status_processor = Orcid::ProfileStatus.method(:for) %>
      <% status_processor.call(current_user) do |on| %>
          <% on.authenticated_connection do |profile| %>
          <% end %>
    <% end %>
    <%= render partial: 'orcid/profile_connections/orcid_connector', locals: {default_search_text: current_user.name } %>
  </div>
</div>
